"""
01-numpy-basics.py
Phase 1: Python 数据科学基础

NumPy 基础操作：数组创建、索引、切片

学习目标：
1. 创建不同类型的 NumPy 数组
2. 理解数组的属性（shape, dtype, ndim）
3. 掌握数组索引和切片操作
"""

import numpy as np

print("=" * 50)
print("NumPy 基础操作")
print("=" * 50)

# =============================================================================
# 1. 创建数组
# =============================================================================
print("\n【1. 创建数组】")

# 从 Python 列表创建
arr_from_list = np.array([1, 2, 3, 4, 5])
print(f"从列表创建: {arr_from_list}")

# 创建多维数组
arr_2d = np.array([[1, 2, 3], [4, 5, 6]])
print(f"二维数组:\n{arr_2d}")

# 使用内置函数创建
zeros = np.zeros((3, 4))  # 全零数组
ones = np.ones((2, 3))    # 全一数组
arange = np.arange(0, 10, 2)  # 等差数组
linspace = np.linspace(0, 1, 5)  # 等分数组
random_arr = np.random.randn(3, 3)  # 随机数组（标准正态分布）

print(f"\n全零数组 (3x4):\n{zeros}")
print(f"\n全一数组 (2x3):\n{ones}")
print(f"\n等差数组 (0到10，步长2): {arange}")
print(f"\n等分数组 (0到1，5个点): {linspace}")
print(f"\n随机数组 (3x3):\n{random_arr}")

# =============================================================================
# 2. 数组属性
# =============================================================================
print("\n" + "=" * 50)
print("【2. 数组属性】")

arr = np.array([[1, 2, 3], [4, 5, 6]])
print(f"数组:\n{arr}")
print(f"形状 (shape): {arr.shape}")      # (2, 3)
print(f"维度 (ndim): {arr.ndim}")         # 2
print(f"元素个数 (size): {arr.size}")     # 6
print(f"数据类型 (dtype): {arr.dtype}")   # int64

# 指定数据类型
arr_float = np.array([1, 2, 3], dtype=np.float32)
print(f"\n指定 float32 类型: {arr_float}")
print(f"数据类型: {arr_float.dtype}")

# =============================================================================
# 3. 数组索引
# =============================================================================
print("\n" + "=" * 50)
print("【3. 数组索引】")

arr = np.arange(10)
print(f"原数组: {arr}")
print(f"第一个元素 arr[0]: {arr[0]}")
print(f"最后一个元素 arr[-1]: {arr[-1]}")
print(f"第3到第6个元素 arr[2:6]: {arr[2:6]}")

# 二维数组索引
arr_2d = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])
print(f"\n二维数组:\n{arr_2d}")
print(f"第2行第3列 arr_2d[1, 2]: {arr_2d[1, 2]}")  # 6
print(f"第1行 arr_2d[0]: {arr_2d[0]}")  # [1, 2, 3]
print(f"第2列 arr_2d[:, 1]: {arr_2d[:, 1]}")  # [2, 5, 8]

# =============================================================================
# 4. 数组切片
# =============================================================================
print("\n" + "=" * 50)
print("【4. 数组切片】")

arr = np.arange(12).reshape(3, 4)
print(f"原数组 (3x4):\n{arr}")

print(f"\n前两行 arr[:2]:\n{arr[:2]}")
print(f"\n后两列 arr[:, -2:]:\n{arr[:, -2:]}")
print(f"\n中间块 arr[1:, 1:3]:\n{arr[1:, 1:3]}")

# =============================================================================
# 5. 布尔索引
# =============================================================================
print("\n" + "=" * 50)
print("【5. 布尔索引】")

arr = np.array([1, 2, 3, 4, 5, 6])
print(f"原数组: {arr}")
print(f"大于3的元素: {arr[arr > 3]}")  # [4, 5, 6]
print(f"偶数元素: {arr[arr % 2 == 0]}")  # [2, 4, 6]

# =============================================================================
# 6. 练习题
# =============================================================================
print("\n" + "=" * 50)
print("【练习题】")
print("=" * 50)

print("""
1. 创建一个 5x5 的单位矩阵（对角线为1，其他为0）
   提示：使用 np.eye()
   
2. 创建一个 0-99 的数组，将其 reshape 成 10x10 的矩阵
   
3. 从上面的矩阵中提取出第 3-5 行、第 2-4 列的子矩阵

4. 找出数组 [3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5] 中所有大于等于 5 的元素

请在下方编写代码完成练习...
""")

# === 在这里编写你的练习代码 ===
# 练习 1
# identity_matrix = np.eye(5)
# print(f"单位矩阵:\n{identity_matrix}")

# 练习 2
# matrix = np.arange(100).reshape(10, 10)
# print(f"10x10 矩阵:\n{matrix}")

# 练习 3
# sub_matrix = matrix[2:5, 1:4]
# print(f"子矩阵:\n{sub_matrix}")

# 练习 4
# arr = np.array([3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5])
# print(f"大于等于5的元素: {arr[arr >= 5]}")

# =============================================================================
# 额外练习：验证理解
# =============================================================================
print("\n" + "=" * 50)
print("【额外知识点】")
print("=" * 50)

# 1. 条件组合
print("\n1. 多条件布尔索引:")
arr = np.arange(10)
# 大于2 且 小于7
result = arr[(arr > 2) & (arr < 7)]
print(f"   arr = {arr}")
print(f"   大于2且小于7: {result}")

# 2. where 函数
print("\n2. np.where() 函数:")
arr = np.array([1, 2, 3, 4, 5])
# 大于3的变成1，否则变成0
result = np.where(arr > 3, 1, 0)
print(f"   arr = {arr}")
print(f"   np.where(arr > 3, 1, 0) = {result}")

# 3. reshape vs resize
print("\n3. reshape 返回新数组，不改变原数组:")
arr = np.arange(6)
reshaped = arr.reshape(2, 3)
print(f"   原数组: {arr}")
print(f"   reshape 后: \n{reshaped}")
print(f"   原数组不变: {arr}")


print("\n✅ NumPy 基础操作完成！")
print("下一步：02-numpy-operations.py - 矩阵运算与广播机制")
